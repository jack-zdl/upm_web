<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">	
<script>
function getXMLRequester( ){    
	$.ajax({
    	url:host+ "/upm_api/v1.0/dashboards/orders?siteId="+siteId,
        method: "get",
        async: true,
        dataType: "json",
        success: function(result, status, xhr) {
        	debugger;
        	changeData(result);
        //  $('#updating-chart').highcharts(changeData(DygraphData,option));
        },
        error: function(XMLHttpRequest, status, jqXHR, textStatus, e) {
        	alert("未连接服务器");
            console.error("未连接服务器 =" + status);
        }
	});
	function changeData(obj_data){
		switch (obj_data.result){
		case 1:
		 	console.log("成功信息"+obj_data.msg);
			break;
		case 0:
			alert("警告信息"+obj_data.msg);
			console.warn("警告信息"+obj_data.msg);
            break;
        case -1:
        	alert("错误信息"+obj_data.msg);
        	console.error("错误信息"+obj_data.msg);
        	break;
        case -9:
        	console.error("错误信息"+obj_data.msg);
        	window.location="login.html";
        	break;
		default:
			console.log("返回result异常");
		}
	
	}
}
getXMLRequester();
</script>
</head>
<body>
<div class="row">
	<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
		<h1 class="page-title txt-color-blueDark"><i class="fa-fw fa fa-home"></i>首页</h1>
	</div>
	<div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
		<ul id="sparks" class="">
			<li class="sparks-info">
				<h5> 交易金额<span class="txt-color-blue">￥47,171</span></h5>
				<div class="sparkline txt-color-blue hidden-mobile hidden-md hidden-sm">
					1300, 1877, 2500, 2577, 2000, 2100, 3000, 2700, 3631, 2471, 2700, 3631, 2471
				</div>
			</li>
			<li class="sparks-info">
				<h5> 资源使用指数 <span class="txt-color-purple"><i class="fa fa-arrow-circle-up"></i>&nbsp;45%</span></h5>
				<div class="sparkline txt-color-purple hidden-mobile hidden-md hidden-sm">
					110,150,300,130,400,240,220,310,220,300, 270, 210
				</div>
			</li>
			<li class="sparks-info">
				<h5> 资源占用量 <span class="txt-color-greenDark"><i class="fa fa-shopping-cart"></i>&nbsp;2447</span></h5>
				<div class="sparkline txt-color-greenDark hidden-mobile hidden-md hidden-sm">
					110,150,300,130,400,240,220,310,220,300, 270, 210
				</div>
			</li>
		</ul>
	</div>
</div>
<!-- widget grid -->
<section id="widget-grid" class="">

	<!-- row -->
	<div class="row">
		<article class="col-sm-12">
			<!-- new widget -->
			<div class="jarviswidget" id="wid-id-0" data-widget-togglebutton="false" data-widget-editbutton="false" data-widget-fullscreenbutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false">
				<header>
					<span class="widget-icon"> <i class="glyphicon glyphicon-stats txt-color-darken"></i> </span>
					<h2>资源使用趋势</h2>

					<ul class="nav nav-tabs pull-right in" id="myTab">
						<li class="active">
							<a data-toggle="tab" href="#s1"><i class="fa fa-clock-o"></i> <span class="hidden-mobile hidden-tablet">全局概览</span></a>
						</li>

						<li>
							<a data-toggle="tab" href="#s2"><i class="fa fa-facebook"></i> <span class="hidden-mobile hidden-tablet"> 预留</span></a>
						</li>

						<li>
							<a data-toggle="tab" href="#s3"><i class="fa fa-dollar"></i> <span class="hidden-mobile hidden-tablet">预留</span></a>
						</li>
					</ul>
				</header>

				<!-- widget div-->
				<div class="no-padding">
					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						test
					</div>
					<!-- end widget edit box -->

					<div class="widget-body">
						<!-- content -->
						<div id="myTabContent" class="tab-content">
							<div class="tab-pane fade active in padding-10 no-padding-bottom" id="s1">
								<div class="row no-space">
									<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
										<!-- <span class="demo-liveupdate-1"> <span class="onoffswitch-title">Live switch</span> <span class="onoffswitch">
												<input type="checkbox" name="start_interval" class="onoffswitch-checkbox" id="start_interval">
												<label class="onoffswitch-label" for="start_interval"> 
													<span class="onoffswitch-inner" data-swchon-text="ON" data-swchoff-text="OFF"></span> 
													<span class="onoffswitch-switch"></span> </label> </span> </span> -->
										<div id="updating-chart" class="chart-large txt-color-blue">
											<!-- tab1中的图 -->
										</div>

									</div>
									<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 show-stats">

										<div class="row">
											<div style="text-align: center; padding-bottom: 20px;"><span><b>工单执行状态</b></span></div>
											<div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"> <!--40/200 -->
												<span class="text"> 未执行<span id="disappearance" class="pull-right"></span>   </span>
												<div class="progress"><!-- width: 20%;-->
													<div class="progress-bar bg-color-blue" id="disappearance-style" style=""></div>
												</div> </div><!-- 120/200 -->
											<div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"> <span class="text"> 执行成功 <span id="agree" class="pull-right"></span> </span>
												<div class="progress"><!-- width: 60%; -->
													<div class="progress-bar bg-color-green" id="agree-style" style=""></div>
												</div> </div><!--40/200 -->
											<div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"> <span class="text"> 执行失败<span id="disagree" class="pull-right">   </span> </span>
												<div class="progress"><!-- width: 20%;-->
													<div class="progress-bar bg-color-red" id="disagree-style" style=""></div>
												</div> </div><!--60/120 -->
											<div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"> <span class="text">执行中 <span id="action" class="pull-right"></span> </span>
												<div class="progress"><!--width: 50%; -->
													<div class="progress-bar bg-color-green" id="action-style" style=""></div>
												</div> </div>
										</div>

									</div>
								</div>
									<!-- 集群下拉框-->
												<br>
												<header>
													<span class="widget-icon"> <i class="glyphicon glyphicon-stats txt-color-darken"></i> 集群：</span>
													<!-- add: non-hidden - to disable auto hide -->

														<div class="btn-group">
															<button class="btn dropdown-toggle btn-xs btn-success" data-toggle="dropdown" id="cluster" >
															<span id="cluster-text"></span>
																<i class="fa fa-caret-down"></i>
															</button>
															<ul id ="cluster-ui" class="dropdown-menu pull-left js-status-update">
															</ul>
														</div>
												</header>
								<div  class="show-stat-microcharts">
								
								
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3" id="fresh-cpu"> <!-- data-percent="33" data-pie-size="50" -->
										<div class="easy-pie-chart txt-color-orangeDark" id="cpu-percent" data-percent=""  data-pie-size="50">
											 <span class="percent percent-sign"> </span>
										</div>
										<span class="easy-pie-title"> CPU分配率<i class="fa fa-caret-up icon-color-bad"></i> </span>
										
									</div>
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3" id="fresh-mem">
										<div class="easy-pie-chart txt-color-greenLight" id="mem-percent" data-percent="" data-pie-size="50">
											<span class="percent percent-sign"><!-- 78.9 --> </span>
										</div>
										<span class="easy-pie-title"> 内存分配率 <i class="fa fa-caret-down icon-color-good"></i></span>
										
									</div>
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
										<div class="easy-pie-chart txt-color-blue" id="disk-percent" data-percent="" data-pie-size="50">
											<span class="percent percent-sign"><!--23 -->  </span>
										</div>
										<span class="easy-pie-title"> IP地址分配率 <i class="fa fa-caret-up icon-color-good"></i></span>
										
									</div>
									<div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
										<div class="easy-pie-chart txt-color-white" id="container-percent" data-percent="" data-pie-size="50">
											<span class="percent prev "> </span>
										</div>
										<span class="easy-pie-title"> 容器数量 <i class="fa fa-caret-down icon-color-good"></i></span>
										
									</div>
								</div>

							</div>
							<!-- end s1 tab pane -->

							<div class="tab-pane fade" id="s2">
								<div class="widget-body-toolbar bg-color-white">

									<form class="form-inline" role="form">

										<div class="form-group">
											<label class="sr-only" for="s123">Show From</label>
											<input type="email" class="form-control input-sm" id="s123" placeholder="Show From">
										</div>
										<div class="form-group">
											<input type="email" class="form-control input-sm" id="s124" placeholder="To">
										</div>

										<div class="btn-group hidden-phone pull-right hidden-xs">
											<a class="btn dropdown-toggle btn-xs btn-default" data-toggle="dropdown"><i class="fa fa-cog"></i> More <span class="caret"> </span> </a>
											<ul class="dropdown-menu pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file-text-alt"></i> Export to PDF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-question-sign"></i> Help</a>
												</li>
											</ul>
										</div>

									</form>

								</div>
								<div class="padding-10">
									<div id="statsChart" class="chart-large has-legend-unique"></div>
								</div>

							</div>
							<!-- end s2 tab pane -->

							<div class="tab-pane fade" id="s3">

								<div class="widget-body-toolbar bg-color-white smart-form" id="rev-toggles">

									<div class="inline-group">

										<label for="gra-0" class="checkbox">
											<input type="checkbox" name="gra-0" id="gra-0" checked="checked">
											<i></i> Target </label>
										<label for="gra-1" class="checkbox">
											<input type="checkbox" name="gra-1" id="gra-1" checked="checked">
											<i></i> Actual </label>
										<label for="gra-2" class="checkbox">
											<input type="checkbox" name="gra-2" id="gra-2" checked="checked">
											<i></i> Signups </label>
									</div>

									<div class="btn-group hidden-phone pull-right hidden-xs">
										<a class="btn dropdown-toggle btn-xs btn-default" data-toggle="dropdown"><i class="fa fa-cog"></i> More <span class="caret"> </span> </a>
										<ul class="dropdown-menu pull-right">
											<li>
												<a href="javascript:void(0);"><i class="fa fa-file-text-alt"></i> Export to PDF</a>
											</li>
											<li>
												<a href="javascript:void(0);"><i class="fa fa-question-sign"></i> Help</a>
											</li>
										</ul>
									</div>

								</div>

								<div class="padding-10">
									<div id="flotcontainer" class="chart-large has-legend-unique"></div>
								</div>
							</div>
							<!-- end s3 tab pane -->
						</div>

						<!-- end content -->
					</div>

				</div>
				<!-- end widget div -->
			</div>
			<!-- end widget -->

		</article>
	</div>

	<!-- end row -->

	<!-- row -->

	<div class="row">

		<article class="col-sm-12 col-md-12 col-lg-6" style="display: none;">

			<!-- new widget -->
			<div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-1" data-widget-editbutton="false" data-widget-fullscreenbutton="false">

				<header>
					<span class="widget-icon"> <i class="fa fa-comments txt-color-white"></i> </span>
					<h2> SmartMessage </h2>
					<div class="widget-toolbar">
						<!-- add: non-hidden - to disable auto hide -->

						<div class="btn-group">
							<button class="btn dropdown-toggle btn-xs btn-success" data-toggle="dropdown">
								Status <i class="fa fa-caret-down"></i>
							</button>
							<ul class="dropdown-menu pull-right js-status-update">
								<li>
									<a href="javascript:void(0);"><i class="fa fa-circle txt-color-green"></i> Online</a>
								</li>
								<li>
									<a href="javascript:void(0);"><i class="fa fa-circle txt-color-red"></i> Busy</a>
								</li>
								<li>
									<a href="javascript:void(0);"><i class="fa fa-circle txt-color-orange"></i> Away</a>
								</li>
								<li class="divider"></li>
								<li>
									<a href="javascript:void(0);"><i class="fa fa-power-off"></i> Log Off</a>
								</li>
							</ul>
						</div>
					</div>
				</header>

				<!-- widget div-->
				<div>
					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<div>
							<label>Title:</label>
							<input type="text" />
						</div>
					</div>
					<!-- end widget edit box -->

					<div class="widget-body widget-hide-overflow no-padding">
						<!-- content goes here -->

						<!-- CHAT CONTAINER -->
						<div id="chat-container">
							<span class="chat-list-open-close"><i class="fa fa-user"></i><b>!</b></span>

							<div class="chat-list-body custom-scroll">
								<ul id="chat-users">
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/5.png" alt="">Robin Berry <span class="badge badge-inverse">23</span><span class="state"><i class="fa fa-circle txt-color-green pull-right"></i></span></a>
									</li>
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/male.png" alt="">Mark Zeukartech <span class="state"><i class="last-online pull-right">2hrs</i></span></a>
									</li>
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/male.png" alt="">Belmain Dolson <span class="state"><i class="last-online pull-right">45m</i></span></a>
									</li>
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/male.png" alt="">Galvitch Drewbery <span class="state"><i class="fa fa-circle txt-color-green pull-right"></i></span></a>
									</li>
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/male.png" alt="">Sadi Orlaf <span class="state"><i class="fa fa-circle txt-color-green pull-right"></i></span></a>
									</li>
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/male.png" alt="">Markus <span class="state"><i class="last-online pull-right">2m</i></span> </a>
									</li>
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/sunny.png" alt="">Sunny <span class="state"><i class="last-online pull-right">2m</i></span> </a>
									</li>
									<li>
										<a href="javascript:void(0);"><img src="img/avatars/male.png" alt="">Denmark <span class="state"><i class="last-online pull-right">2m</i></span> </a>
									</li>
								</ul>
							</div>
							<div class="chat-list-footer">

								<div class="control-group">

									<form class="smart-form">

										<section>
											<label class="input">
												<input type="text" id="filter-chat-list" placeholder="Filter">
											</label>
										</section>

									</form>

								</div>

							</div>

						</div>

						<!-- CHAT BODY -->
						<div id="chat-body" class="chat-body custom-scroll">
							<ul>
								<li class="message">
									<img src="img/avatars/5.png" class="online" alt="">
									<div class="message-text">
										<time>
											2014-01-13
										</time> <a href="javascript:void(0);" class="username">Sadi Orlaf</a> Hey did you meet the new board of director? He's a bit of a geek if you ask me...anyway here is the report you requested. I am off to launch with Lisa and Andrew, you wanna join?
										<p class="chat-file row">
											<b class="pull-left col-sm-6"> <!--<i class="fa fa-spinner fa-spin"></i>--> <i class="fa fa-file"></i> report-2013-demographic-report-annual-earnings.xls </b>
											<span class="col-sm-6 pull-right"> <a href="javascript:void(0);" class="btn btn-xs btn-default">cancel</a> <a href="javascript:void(0);" class="btn btn-xs btn-success">save</a> </span>
										</p>
										<p class="chat-file row">
											<b class="pull-left col-sm-6"> <i class="fa fa-ok txt-color-green"></i> tobacco-report-2012.doc </b>
											<span class="col-sm-6 pull-right"> <a href="javascript:void(0);" class="btn btn-xs btn-primary">open</a> </span>
										</p> </div>
								</li>
								<li class="message">
									<img src="img/avatars/sunny.png" class="online" alt="">
									<div class="message-text">
										<time>
											2014-01-13
										</time> <a href="javascript:void(0);" class="username">John Doe</a> Haha! Yeah I know what you mean. Thanks for the file Sadi! <i class="fa fa-smile-o txt-color-orange"></i> 
									</div>
								</li>
							</ul>

						</div>

						<!-- CHAT FOOTER -->
						<div class="chat-footer">

							<!-- CHAT TEXTAREA -->
							<div class="textarea-div">

								<div class="typearea">
									<textarea placeholder="Write a reply..." id="textarea-expand" class="custom-scroll"></textarea>
								</div>

							</div>

							<!-- CHAT REPLY/SEND -->
							<span class="textarea-controls">
								<button class="btn btn-sm btn-primary pull-right">
									Reply
								</button> <span class="pull-right smart-form" style="margin-top: 3px; margin-right: 10px;"> <label class="checkbox pull-right">
										<input type="checkbox" name="subscription" id="subscription">
										<i></i>Press <strong> ENTER </strong> to send </label> </span> <a href="javascript:void(0);" class="pull-left"><i class="fa fa-camera fa-fw fa-lg"></i></a> </span>

						</div>

						<!-- end content -->
					</div>

				</div>
				<!-- end widget div -->
			</div>
			<!-- end widget -->

			<!-- new widget -->
			<div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-3" data-widget-colorbutton="false">

				<header>
					<span class="widget-icon"> <i class="fa fa-calendar"></i> </span>
					<h2> My Events </h2>
					<div class="widget-toolbar">
						<!-- add: non-hidden - to disable auto hide -->
						<div class="btn-group">
							<button class="btn dropdown-toggle btn-xs btn-default" data-toggle="dropdown">
								Showing <i class="fa fa-caret-down"></i>
							</button>
							<ul class="dropdown-menu js-status-update pull-right">
								<li>
									<a href="javascript:void(0);" id="mt">Month</a>
								</li>
								<li>
									<a href="javascript:void(0);" id="ag">Agenda</a>
								</li>
								<li>
									<a href="javascript:void(0);" id="td">Today</a>
								</li>
							</ul>
						</div>
					</div>
				</header>

				<!-- widget div-->
				<div>
					<!-- widget edit box -->
					<div class="jarviswidget-editbox">

						<input class="form-control" type="text">

					</div>
					<!-- end widget edit box -->

					<div class="widget-body no-padding">
						<!-- content goes here -->
						<div class="widget-body-toolbar">

							<div id="calendar-buttons">

								<div class="btn-group">
									<a href="javascript:void(0)" class="btn btn-default btn-xs" id="btn-prev"><i class="fa fa-chevron-left"></i></a>
									<a href="javascript:void(0)" class="btn btn-default btn-xs" id="btn-next"><i class="fa fa-chevron-right"></i></a>
								</div>
							</div>
						</div>
						<div id="calendar"></div>

						<!-- end content -->
					</div>

				</div>
				<!-- end widget div -->
			</div>
			<!-- end widget -->

		</article>

		<article class="col-sm-12 col-md-12 col-lg-6" style="display: none;">

			<!-- new widget -->
			<div class="jarviswidget" id="wid-id-2" data-widget-colorbutton="false" data-widget-editbutton="false">

				<header>
					<span class="widget-icon"> <i class="fa fa-map-marker"></i> </span>
					<h2>Birds Eye</h2>
					<div class="widget-toolbar hidden-mobile">
						<span class="onoffswitch-title"><i class="fa fa-location-arrow"></i> Realtime</span>
						<span class="onoffswitch">
							<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" checked="checked" id="myonoffswitch">
							<label class="onoffswitch-label" for="myonoffswitch"> <span class="onoffswitch-inner" data-swchon-text="YES" data-swchoff-text="NO"></span> <span class="onoffswitch-switch"></span> </label> </span>
					</div>
				</header>

				<!-- widget div-->
				<div>
					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<div>
							<label>Title:</label>
							<input type="text" />
						</div>
					</div>
					<!-- end widget edit box -->

					<div class="widget-body no-padding">
						<!-- content goes here -->

						<div id="vector-map" class="vector-map"></div>
						<div id="heat-fill">
							<span class="fill-a">0</span>

							<span class="fill-b">5,000</span>
						</div>
						
						<!-- table responsive -->
						<div class="table-responsive no-margin">
							
							<table class="table table-striped table-hover table-condensed">
								<thead>
									<tr>
										<th>Country</th>
										<th>Visits</th>
										<th class="text-align-center">User Activity</th>
										<th class="text-align-center hidden-xs">Online</th>
										<th class="text-align-center">Demographic</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><a href="javascript:void(0);">USA</a></td>
										<td>4,977</td>
										<td class="text-align-center">
										<div class="sparkline txt-color-blue text-align-center" data-sparkline-height="22px" data-sparkline-width="90px" data-sparkline-barwidth="2">
											2700, 3631, 2471, 1300, 1877, 2500, 2577, 2700, 3631, 2471, 2000, 2100, 3000
										</div></td>
										<td class="text-align-center hidden-xs">143</td>
										<td class="text-align-center">
										<div class="sparkline display-inline" data-sparkline-type='pie' data-sparkline-piecolor='["#E979BB", "#57889C"]' data-sparkline-offset="90" data-sparkline-piesize="23px">
											17,83
										</div>
										<div class="btn-group display-inline pull-right text-align-left hidden-tablet">
											<button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
												<i class="fa fa-cog fa-lg"></i>
											</button>
											<ul class="dropdown-menu dropdown-menu-xs pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file fa-lg fa-fw txt-color-greenLight"></i> <u>P</u>DF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-times fa-lg fa-fw txt-color-red"></i> <u>D</u>elete</a>
												</li>
												<li class="divider"></li>
												<li class="text-align-center">
													<a href="javascript:void(0);">Cancel</a>
												</li>
											</ul>
										</div></td>
									</tr>
									<tr>
										<td><a href="javascript:void(0);">Australia</a></td>
										<td>4,873</td>
										<td class="text-align-center">
										<div class="sparkline txt-color-blue text-align-center" data-sparkline-height="22px" data-sparkline-width="90px" data-sparkline-barwidth="2">
											1000, 1100, 3030, 1300, -1877, -2500, -2577, -2700, 3631, 2471, 4700, 1631, 2471
										</div></td>
										<td class="text-align-center hidden-xs">247</td>
										<td class="text-align-center">
										<div class="sparkline display-inline" data-sparkline-type='pie' data-sparkline-piecolor='["#E979BB", "#57889C"]' data-sparkline-offset="90" data-sparkline-piesize="23px">
											22,88
										</div>
										<div class="btn-group display-inline pull-right text-align-left hidden-tablet">
											<button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
												<i class="fa fa-cog fa-lg"></i>
											</button>
											<ul class="dropdown-menu dropdown-menu-xs pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file fa-lg fa-fw txt-color-greenLight"></i> <u>P</u>DF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-times fa-lg fa-fw txt-color-red"></i> <u>D</u>elete</a>
												</li>
												<li class="divider"></li>
												<li class="text-align-center">
													<a href="javascript:void(0);">Cancel</a>
												</li>
											</ul>
										</div></td>
									</tr>
									<tr>
										<td><a href="javascript:void(0);">India</a></td>
										<td>3,671</td>
										<td class="text-align-center">
										<div class="sparkline txt-color-blue text-align-center" data-sparkline-height="22px" data-sparkline-width="90px" data-sparkline-barwidth="2">
											3631, 1471, 2400, 3631, 471, 1300, 1177, 2500, 2577, 3000, 4100, 3000, 7700
										</div></td>
										<td class="text-align-center hidden-xs">373</td>
										<td class="text-align-center">
										<div class="sparkline display-inline" data-sparkline-type='pie' data-sparkline-piecolor='["#E979BB", "#57889C"]' data-sparkline-offset="90" data-sparkline-piesize="23px">
											10,90
										</div>
										<div class="btn-group display-inline pull-right text-align-left hidden-tablet">
											<button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
												<i class="fa fa-cog fa-lg"></i>
											</button>
											<ul class="dropdown-menu dropdown-menu-xs pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file fa-lg fa-fw txt-color-greenLight"></i> <u>P</u>DF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-times fa-lg fa-fw txt-color-red"></i> <u>D</u>elete</a>
												</li>
												<li class="divider"></li>
												<li class="text-align-center">
													<a href="javascript:void(0);">Cancel</a>
												</li>
											</ul>
										</div></td>
									</tr>
									<tr>
										<td><a href="javascript:void(0);">Brazil</a></td>
										<td>2,476</td>
										<td class="text-align-center">
										<div class="sparkline txt-color-blue text-align-center" data-sparkline-height="22px" data-sparkline-width="90px" data-sparkline-barwidth="2">
											2700, 1877, 2500, 2577, 2000, 3631, 2471, -2700, -3631, 2471, 1300, 2100, 3000,
										</div></td>
										<td class="text-align-center hidden-xs ">741</td>
										<td class="text-align-center">
										<div class="sparkline display-inline" data-sparkline-type='pie' data-sparkline-piecolor='["#E979BB", "#57889C"]' data-sparkline-offset="90" data-sparkline-piesize="23px">
											34,66
										</div>
										<div class="btn-group display-inline pull-right text-align-left hidden-tablet">
											<button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
												<i class="fa fa-cog fa-lg"></i>
											</button>
											<ul class="dropdown-menu dropdown-menu-xs pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file fa-lg fa-fw txt-color-greenLight"></i> <u>P</u>DF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-times fa-lg fa-fw txt-color-red"></i> <u>D</u>elete</a>
												</li>
												<li class="divider"></li>
												<li class="text-align-center">
													<a href="javascript:void(0);">Cancel</a>
												</li>
											</ul>
										</div></td>
									</tr>
									<tr>
										<td><a href="javascript:void(0);">Turkey</a></td>
										<td>1,476</td>
										<td class="text-align-center">
										<div class="sparkline txt-color-blue text-align-center" data-sparkline-height="22px" data-sparkline-width="90px" data-sparkline-barwidth="2">
											1300, 1877, 2500, 2577, 2000, 2100, 3000, -2471, -2700, -3631, -2471, 2700, 3631
										</div></td>
										<td class="text-align-center hidden-xs">123</td>
										<td class="text-align-center">
										<div class="sparkline display-inline" data-sparkline-type='pie' data-sparkline-piecolor='["#E979BB", "#57889C"]' data-sparkline-offset="90" data-sparkline-piesize="23px">
											75,25
										</div>
										<div class="btn-group display-inline pull-right text-align-left hidden-tablet">
											<button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
												<i class="fa fa-cog fa-lg"></i>
											</button>
											<ul class="dropdown-menu dropdown-menu-xs pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file fa-lg fa-fw txt-color-greenLight"></i> <u>P</u>DF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-times fa-lg fa-fw txt-color-red"></i> <u>D</u>elete</a>
												</li>
												<li class="divider"></li>
												<li class="text-align-center">
													<a href="javascript:void(0);">Cancel</a>
												</li>
											</ul>
										</div></td>
									</tr>
									<tr>
										<td><a href="javascript:void(0);">Canada</a></td>
										<td>146</td>
										<td class="text-align-center">
										<div class="sparkline txt-color-orange text-align-center" data-sparkline-height="22px" data-sparkline-width="90px" data-sparkline-barwidth="2">
											5, 34, 10, 1, 4, 6, -9, -1, 0, 0, 5, 6, 7
										</div></td>
										<td class="text-align-center hidden-xs">23</td>
										<td class="text-align-center">
										<div class="sparkline display-inline" data-sparkline-type='pie' data-sparkline-piecolor='["#E979BB", "#57889C"]' data-sparkline-offset="90" data-sparkline-piesize="23px">
											50,50
										</div>
										<div class="btn-group display-inline pull-right text-align-left hidden-tablet">
											<button class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
												<i class="fa fa-cog fa-lg"></i>
											</button>
											<ul class="dropdown-menu dropdown-menu-xs pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file fa-lg fa-fw txt-color-greenLight"></i> <u>P</u>DF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-times fa-lg fa-fw txt-color-red"></i> <u>D</u>elete</a>
												</li>
												<li class="divider"></li>
												<li class="text-align-center">
													<a href="javascript:void(0);">Cancel</a>
												</li>
											</ul>
										</div></td>
									</tr>
								</tbody>
								<tfoot>
									<tr>
										<td colspan=5>
										<ul class="pagination pagination-xs no-margin">
											<li class="prev disabled">
												<a href="javascript:void(0);">Previous</a>
											</li>
											<li class="active">
												<a href="javascript:void(0);">1</a>
											</li>
											<li>
												<a href="javascript:void(0);">2</a>
											</li>
											<li>
												<a href="javascript:void(0);">3</a>
											</li>
											<li class="next">
												<a href="javascript:void(0);">Next</a>
											</li>
										</ul></td>
									</tr>
								</tfoot>
							</table>
							
						</div>
						<!-- end table responsive-->
						
						<!-- end content -->

					</div>

				</div>
				<!-- end widget div -->
			</div>
			<!-- end widget -->

			<!-- new widget -->
			<div class="jarviswidget jarviswidget-color-blue" id="wid-id-4" data-widget-editbutton="false" data-widget-colorbutton="false">

				<!-- widget options:
				usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

				data-widget-colorbutton="false"
				data-widget-editbutton="false"
				data-widget-togglebutton="false"
				data-widget-deletebutton="false"
				data-widget-fullscreenbutton="false"
				data-widget-custombutton="false"
				data-widget-collapsed="true"
				data-widget-sortable="false"

				-->

				<header>
					<span class="widget-icon"> <i class="fa fa-check txt-color-white"></i> </span>
					<h2> ToDo's </h2>
					<!-- <div class="widget-toolbar">
					add: non-hidden - to disable auto hide

					</div>-->
				</header>

				<!-- widget div-->
				<div>
					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<div>
							<label>Title:</label>
							<input type="text" />
						</div>
					</div>
					<!-- end widget edit box -->

					<div class="widget-body no-padding smart-form">
						<!-- content goes here -->
						<h5 class="todo-group-title"><i class="fa fa-warning"></i> Critical Tasks (<small class="num-of-tasks">1</small>)</h5>
						<ul id="sortable1" class="todo">
							<li>
								<span class="handle"> <label class="checkbox">
										<input type="checkbox" name="checkbox-inline">
										<i></i> </label> </span>
								<p>
									<strong>Ticket #17643</strong> - Hotfix for WebApp interface issue [<a href="javascript:void(0);" class="font-xs">More Details</a>] <span class="text-muted">Sea deep blessed bearing under darkness from God air living isn't. </span>
									<span class="date">Jan 1, 2014</span>
								</p>
							</li>
						</ul>
						<h5 class="todo-group-title"><i class="fa fa-exclamation"></i> Important Tasks (<small class="num-of-tasks">3</small>)</h5>
						<ul id="sortable2" class="todo">
							<li>
								<span class="handle"> <label class="checkbox">
										<input type="checkbox" name="checkbox-inline">
										<i></i> </label> </span>
								<p>
									<strong>Ticket #1347</strong> - Inbox email is being sent twice <small>(bug fix)</small> [<a href="javascript:void(0);" class="font-xs">More Details</a>] <span class="date">Nov 22, 2013</span>
								</p>
							</li>
							<li>
								<span class="handle"> <label class="checkbox">
										<input type="checkbox" name="checkbox-inline">
										<i></i> </label> </span>
								<p>
									<strong>Ticket #1314</strong> - Call customer support re: Issue <a href="javascript:void(0);" class="font-xs">#6134</a><small> (code review)</small>
									<span class="date">Nov 22, 2013</span>
								</p>
							</li>
							<li>
								<span class="handle"> <label class="checkbox">
										<input type="checkbox" name="checkbox-inline">
										<i></i> </label> </span>
								<p>
									<strong>Ticket #17643</strong> - Hotfix for WebApp interface issue [<a href="javascript:void(0);" class="font-xs">More Details</a>] <span class="text-muted">Sea deep blessed bearing under darkness from God air living isn't. </span>
									<span class="date">Jan 1, 2014</span>
								</p>
							</li>
						</ul>

						<h5 class="todo-group-title"><i class="fa fa-check"></i> Completed Tasks (<small class="num-of-tasks">1</small>)</h5>
						<ul id="sortable3" class="todo">
							<li class="complete">
								<span class="handle"> <label class="checkbox state-disabled" style="display:none">
										<input type="checkbox" name="checkbox-inline" checked="checked" disabled="disabled">
										<i></i> </label> </span>
								<p>
									<strong>Ticket #17643</strong> - Hotfix for WebApp interface issue [<a href="javascript:void(0);" class="font-xs">More Details</a>] <span class="text-muted">Sea deep blessed bearing under darkness from God air living isn't. </span>
									<span class="date">Jan 1, 2014</span>
								</p>
							</li>
						</ul>

						<!-- end content -->
					</div>

				</div>
				<!-- end widget div -->
			</div>
			<!-- end widget -->

		</article>

	</div>

	<!-- end row -->

</section>
<!-- end widget grid -->

<script type="text/javascript">
	$(function(){
		
	
	　
	　
			//获得集群
			var resuletData ={};
			$.ajax({
	                	url:host+"/upm_api/v1.0/selections/clusters?siteId="+siteId,
		                method: "get",
		                async: true,
		                dataType: "json",
		                success: function(result, status, xhr) {
		                	setOneCluster(result[0].id);
		                  // setOption(resultData);
		                },
		                error: function(XMLHttpRequest, status, jqXHR, textStatus, e) {
		                	alert("未连接服务器");
		                    console.error("未连接服务器 =" + status);
		                }
	            });
			//获得第一个集群的信息
			function setOneCluster(obj_clusterId){
				$.ajax({
                	url:host+ "/upm_api/v1.0/dashboards/cluster_resources_allocation?clusterId="+obj_clusterId,
	                method: "get",
	                async: true,
	                dataType: "json",
	                success: function(result, status, xhr) {
	                	changeData(result);
	                },
	                error: function(XMLHttpRequest, status, jqXHR, textStatus, e) {
	                	alert("未连接服务器");
	                    console.error("未连接服务器 =" + status);
	                }
            	});
				function changeData(obj_data){
					switch (obj_data.result){
	        		case 1:
	        		 	console.log("成功信息"+obj_data.msg);
	        		 	showPie(obj_data.data);
	        			break;
	        		case 0:
	        			alert("警告信息"+obj_data.msg);
						console.warn("警告信息"+obj_data.msg);
			            break;
			        case -1:
			        	alert("错误信息"+obj_data.msg);
			        	console.error("错误信息"+obj_data.msg);
			        	break;
			        case -9:
			        	console.error("错误信息"+obj_data.msg);
			        	window.location="login.html";
			        	break;
	        		default:
	        			console.log("返回result异常");
				}
				
			}
				function showPie(obj_data){
					$('#cpu-percent').data('easyPieChart').update((obj_data.cpu.cpuUsed / obj_data.cpu.cpuSum)*100);
					$('#mem-percent').data('easyPieChart').update((obj_data.mem.memUsedSize / obj_data.mem.memSumSize)*100);
					$('#disk-percent').data('easyPieChart').update((obj_data.disk.diskUsedSize / obj_data.disk.diskSumSize)*100);
					$('#container-percent').data('easyPieChart').update(obj_data.container.containerSum);		
				}
		}
			
		
	});
</script>
<script type="text/javascript">
		function clusterOnclick(obj_this){
			debugger;
			$("#cluster-text").html(obj_this.text);
			// alert(obj_this.id);
			 $.ajax({
	        	url:host+ "/upm_api/v1.0/dashboards/cluster_resources_allocation?clusterId="+obj_this.id,
	            method: "get",
	            async: true,
	            dataType: "json",
	            success: function(result, status, xhr) {
	            //	debugger;
	            	changeData(result);
	            },
	            error: function(XMLHttpRequest, status, jqXHR, textStatus, e) {
	            	alert("未连接服务器");
	                console.error("未连接服务器 =" + status);
	            }
		    });	
			 function changeData(obj_data){
					//debugger;
					switch (obj_data.result){
	        		case 1:
	        		 	console.log("成功信息"+obj_data.msg);
	        		 	showPie(obj_data.data);
	        			break;
	        		case 0:
	        			alert("警告信息"+obj_data.msg);
						console.warn("警告信息"+obj_data.msg);
			            break;
			        case -1:
			        	alert("错误信息"+obj_data.msg);
			        	console.error("错误信息"+obj_data.msg);
			        	break;
			        case -9:
			        	console.error("错误信息"+obj_data.msg);
			        	window.location="login.html";
			        	break;
	        		default:
	        			console.log("返回result异常");
				}
				
			}
				function showPie(obj_data){
					$('#cpu-percent').data('easyPieChart').update((obj_data.cpu.cpuUsed / obj_data.cpu.cpuSum)*100);
					$('#mem-percent').data('easyPieChart').update((obj_data.mem.memUsedSize / obj_data.mem.memSumSize)*100);
					$('#disk-percent').data('easyPieChart').update((obj_data.disk.diskUsedSize / obj_data.disk.diskSumSize)*100);
					$('#container-percent').data('easyPieChart').update(obj_data.container.containerSum);		
				}
		   
		}

</script>
<script type="text/javascript">
	/* DO NOT REMOVE : GLOBAL FUNCTIONS!
	 *
	 * pageSetUp(); WILL CALL THE FOLLOWING FUNCTIONS
	 *
	 * // activate tooltips
	 * $("[rel=tooltip]").tooltip();
	 *
	 * // activate popovers
	 * $("[rel=popover]").popover();
	 *
	 * // activate popovers with hover states
	 * $("[rel=popover-hover]").popover({ trigger: "hover" });
	 *
	 * // activate inline charts
	 * runAllCharts();
	 *
	 * // setup widgets
	 * setup_widgets_desktop();
	 *
	 * // run form elements
	 * runAllForms();
	 *
	 ********************************
	 *
	 * pageSetUp() is needed whenever you load a page.
	 * It initializes and checks for all basic elements of the page
	 * and makes rendering easier.
	 *
	 */

	 var flot_updating_chart, flot_statsChart, flot_multigraph, calendar;

	pageSetUp();
	
	/*
	 * PAGE RELATED SCRIPTS
	 */

	// pagefunction
	
	var pagefunction = function() {
			
			$(".js-status-update a").click(function () {
			    var selText = $(this).text();
			    var $this = $(this);
			    $this.parents('.btn-group').find('.dropdown-toggle').html(selText + ' <span class="caret"></span>');
			    $this.parents('.dropdown-menu').find('li').removeClass('active');
			    $this.parent().addClass('active');
			});
			
			/*
			 * TODO: add a way to add more todo's to list
			 */
			
			// initialize sortable
			
		    $("#sortable1, #sortable2").sortable({
		        handle: '.handle',
		        connectWith: ".todo",
		        update: countTasks
		    }).disableSelection();
			
			
			// check and uncheck
			$('.todo .checkbox > input[type="checkbox"]').click(function () {
			    var $this = $(this).parent().parent().parent();
			
			    if ($(this).prop('checked')) {
			        $this.addClass("complete");
			
			        // remove this if you want to undo a check list once checked
			        //$(this).attr("disabled", true);
			        $(this).parent().hide();
			
			        // once clicked - add class, copy to memory then remove and add to sortable3
			        $this.slideUp(500, function () {
			            $this.clone().prependTo("#sortable3").effect("highlight", {}, 800);
			            $this.remove();
			            countTasks();
			        });
			    } else {
			        // insert undo code here...
			    }
			
			})
			// count tasks
			function countTasks() {
			
			    $('.todo-group-title').each(function () {
			        var $this = $(this);
			        $this.find(".num-of-tasks").text($this.next().find("li").size());
			    });
				
			}
			
			/*
			 * RUN PAGE GRAPHS
			 */
			/**
			 * [description] 点击集群时触发刷新下面的所有信息
			 */
			function getClusterFun(){
				$.ajax({
	                	url:host+"/upm_api/v1.0/selections/clusters?siteId="+siteId,
		                method: "get",
		                async: true,
		                dataType: "json",
		                success: function(result, status, xhr) {
		                   setOption(result);
		                },
		                error: function(XMLHttpRequest, status, jqXHR, textStatus, e) {
		                	alert("未连接服务器");
		                    console.error("未连接服务器 =" + status);
		                }
	            });
				//展示下拉菜单
				function setOption(obj_data){
					var colorTxt = ["txt-color-green","txt-color-red"];
					var htmlTemplate = "<li><a href='javascript:void(0);'> <li class";
					if(obj_data != null){
						$("#cluster-text").html(obj_data[0].text);
					}
					var j = 0;
					for (var i = 0; i < obj_data.length; i++) {
						if(j=2){
							j=0;
						}
						var classText = "fa fa-circle"+colorTxt[j];
						$("#cluster-ui").append("<li>"+ "<a  href='javascript:void(0);' onclick='clusterOnclick(this)' class='cluster-click' id="+obj_data[i].id+"><i class='fa fa-circle txt-color-green' ></i><span>"+obj_data[i].text+"</span></li>");
						j++;
            		}
				}

			}
			getClusterFun();

			/**
			 * js控制改变工单管理
			 */
			function setOrderStatus(){
				$.ajax({
	                	url:host+  "/upm_api/v1.0/dashboards/orders?siteId="+siteId,
		                method: "get",
		                async: true,
		                dataType: "json",
		                success: function(result, status, xhr) {
		                	changeData(result);
		                },
		                error: function(XMLHttpRequest, status, jqXHR, textStatus, e) {
		                	alert("未连接服务器");
		                    console.error("未连接服务器 =" + status);
		                }
	            });
				
				function changeData(obj_data){
					 switch (obj_data.result){
	                  case 1:
	                    	console.info("成功信息"+obj_data.msg);
	                    	setOrderDom(obj_data.data);
	                    	break;
	                  case 0:
	                	  	alert("警告信息"+obj_data.msg);
	                    	console.warn("警告信息"+obj_data.msg);
	                    	break;
	                  case -1:
	                	  	alert("错误信息"+obj_data.msg);
	                    	console.error("错误信息"+obj_data.msg);
	                    	break;
	                  case -9:
	                    	console.error("错误信息"+obj_data.msg);
	                    		window.location="login.html";
							break;	                    	
	                  default:
	                    console.log("测试代码");
	                }
				}

				function setOrderDom(obj_data){
					var sumData = obj_data.executeRunningCnt + obj_data.executeFailureCnt
					+  obj_data.executeSuccessCnt + obj_data.unapprovedCnt
					+ obj_data.unapproveCnt + obj_data.approvedCnt;
					//未执行
					var disexecutePercent = ( obj_data.unapprovedCnt
							+ obj_data.unapproveCnt + obj_data.approvedCnt) / sumData * 100;
					//执行成功
					var executeSuccessPercent  = obj_data.executeSuccessCnt / sumData * 100;
					//执行失败
					var executeFailPercent  = obj_data.executeFailureCnt / sumData * 100;
					//执行中
					var executeingPercent    = obj_data.executeRunningCnt / sumData  * 100;
					
					$("#disappearance").html(String( obj_data.unapprovedCnt
							+ obj_data.unapproveCnt + obj_data.approvedCnt) +"/"+String(sumData));
					$("#disappearance-style").css({"width": disexecutePercent+"%"});
					$("#agree").html(String(obj_data.executeSuccessCnt)+"/"+String(sumData));
					$("#agree-style").css({"width": executeSuccessPercent+"%"});
					$("#disagree").html(String(obj_data.executeFailureCnt)+"/"+String(sumData));
					$("#disagree-style").css({"width": executeFailPercent+"%"});
					$("#action").html(String(obj_data.executeRunningCnt)+"/"+String(sumData));
					$("#action-style").css({"width": executeingPercent+"%"});
					
				}
			}

			setOrderStatus();
				loadScript("js/plugin/flot/jquery.flot.cust.min.js", function(){
					loadScript("js/plugin/flot/jquery.flot.resize.min.js", function(){
						loadScript("js/plugin/flot/jquery.flot.time.min.js", function(){
							loadScript("js/plugin/flot/jquery.flot.tooltip.min.js", generatePageGraphs);
						});
					});
				});
			

			
			function generatePageGraphs() {
			
			    /* TAB 1: UPDATING CHART */
			    // For the demo we use generated data, but normally it would be coming from the server
			
			    var data = [],
			        totalPoints = 200,
			        $UpdatingChartColors = $("#updating-chart").css('color');
			

			    function getDygraphData(){
			    	//最基础的原始数据
			    	var DygraphData = [
			    		{"innerKey":[
			    			{"kay":"1485903500000","A2":"20"},
				    		{"kay":"1485924500000","A2":"20"},
				    		{"kay":"1485956000000","A2":"20"},
				    		{"kay":"1485987500000","A2":"20"},
				    		{"kay":"1486109000000","A2":"20"},
				    		{"kay":"1486400500000","A2":"20"},
				    		{"kay":"1486601500000","A2":"20"},
				    		{"kay":"1486802500000","A2":"20"},
				    		{"kay":"1487003500000","A2":"null"},
				    		{"kay":"1487204500000","A2":"null"},
				    		{"kay":"1487606500000","A2":"20"},
				    		{"kay":"1487907500000","A2":"20"}
			    		]},
			    		{"outerKey":[
				    			{"kay":"1485903500000","A1":"0"  },
				    			{"kay":"1485924500000","A1":"10" },
				    			{"kay":"1485956000000","A1":"20" },
				    			{"kay":"1485987500000","A1":"30" },
				    			{"kay":"1486109000000","A1":"40" },
				    			{"kay":"1486400500000","A1":"50" },
				    			{"kay":"1486601500000","A1":"70" },
				    			{"kay":"1486802500000","A1":"90" },
				    			{"kay":"1487003500000","A1":"110"},
				    			{"kay":"1487204500000","A1":"120"},
				    			{"kay":"1487606500000","A1":"140"},
				    			{"kay":"1487907500000","A1":"158"}
			    		]}
			    		];
			    	
			    	var option = {
			    		credits: {
          					  enabled: false
        				},
			   	 		title:{
			   	 			text :""
			   	 		},
			   	 		xAxis:{
			   	 			type:"datetime",
			   	 			dateTimeLabelFormats:{
								millisecond: '%H:%M:%S.%L',
								second: '%H:%M:%S',
								minute: '%H:%M',
								hour: '%H:%M',
								day: '%e. %b',
								week: '%e. %b',
								month: '%b \'%y',
								year: '%Y'
							}
			   	 		},
			   	 		yAxis: {
                			title: {
                    			text: ''
                			}
            			},
            			chart: {
                			zoomType: 'x'
           				},
            			subtitle: {
               				 text: document.ontouchstart === undefined ?
               					 '鼠标拖动可以进行缩放' : '手势操作进行缩放'
            			},
            			legend: {
                			enabled: false
            			},

			   	 		tooltip:{
							dateTimeLabelFormats:{
								millisecond:"%A, %b %e, %H:%M:%S.%L",
								second:"%A, %b %e, %H:%M:%S",
								minute:"%A, %b %e, %H:%M",
								hour:"%A, %b %e, %H:%M",
								day:"%A, %b %e, %Y",
								week:"Week from %A, %b %e, %Y",
								month:"%B %Y",
								year:"%Y"
							},
							xDateFormat: ' %Y-%m-%d',
							shared:true
						},
						series: []
			   	 	};
			    	
					//获得数据
			    	$.ajax({
	                	url:host+ "/upm_api/v1.0/dashboards/resources_used?siteId="+siteId,
		                method: "get",
		                async: true,
		                dataType: "json",
		                success: function(result, status, xhr) {
		                	changeData(result);
		                //  $('#updating-chart').highcharts(changeData(DygraphData,option));
		                },
		                error: function(XMLHttpRequest, status, jqXHR, textStatus, e) {
		                	alert("未连接服务器");
		                    console.error("未连接服务器 =" + status);
		                }
	            	});
	            	//option
	            	function changeData(obj_data){
	            		switch (obj_data.result){
		        		case 1:
		        		 	console.log("成功信息"+obj_data.msg);
		        		 	//changeAfterData(obj_data.data);
		        		 	$('#updating-chart').highcharts(changeAfterData(changeDataOnce(obj_data.data),option));
		        			break;
		        		case 0:
		        			alert("警告信息"+obj_data.msg);
							console.warn("警告信息"+obj_data.msg);
				            break;
				        case -1:
				        	alert("错误信息"+obj_data.msg);
				        	console.error("错误信息"+obj_data.msg);
				        	break;
				        case -9:
				        	console.error("错误信息"+obj_data.msg);
				        	window.location="login.html";
				        	break;
		        		default:
		        			console.log("返回result异常");
		        	}
	            	}
	            	//假数据
	            	var DygraphData = [
	           			    		{"innerKey":[
	           			    			{"kay":"1485903500000","A2":"20"},
	           				    		{"kay":"1485924500000","A2":"20"},
	           				    		{"kay":"1485956000000","A2":"20"},
	           				    		{"kay":"1485987500000","A2":"20"},
	           				    		{"kay":"1486109000000","A2":"20"},
	           				    		{"kay":"1486400500000","A2":"20"},
	           				    		{"kay":"1486601500000","A2":"20"},
	           				    		{"kay":"1486802500000","A2":"20"},
	           				    		{"kay":"1487003500000","A2":"null"},
	           				    		{"kay":"1487204500000","A2":"null"},
	           				    		{"kay":"1487606500000","A2":"20"},
	           				    		{"kay":"1487907500000","A2":"20"}
	           			    		]},
	           			    		{"outerKey":[
	           				    			{"kay":"1485903500000","A1":"0"  },
	           				    			{"kay":"1485924500000","A1":"10" },
	           				    			{"kay":"1485956000000","A1":"20" },
	           				    			{"kay":"1485987500000","A1":"30" },
	           				    			{"kay":"1486109000000","A1":"40" },
	           				    			{"kay":"1486400500000","A1":"50" },
	           				    			{"kay":"1486601500000","A1":"70" },
	           				    			{"kay":"1486802500000","A1":"90" },
	           				    			{"kay":"1487003500000","A1":"110"},
	           				    			{"kay":"1487204500000","A1":"120"},
	           				    			{"kay":"1487606500000","A1":"140"},
	           				    			{"kay":"1487907500000","A1":"158"}
	           			    		]}
	           			    		];
	            	/**修改数据*/
	            	function changeDataOnce(obj_data){
	            		var array = [];
	            		for(var key in obj_data){
	            			var object ={};
	            			object[key]=obj_data[key];
	            			array.push(object);
	            		}
	            		return array;
	            	}
	            	
			    	 //处理数据逻辑，将原始数据转换为可以添加到图的数据
			    	function changeAfterData(obj_data,obj_option){
			    		var datalength = obj_data.length;
			    		//var dataArray  = [];
			    		//查询几个线的数据即几个对象{"key":[{}{}],"key":[{},{}]}一共二个
			    		for (var i = datalength - 1; i >= 0; i--) {
			    			for(var key in obj_data[i]){
			    				obj_option.series[i]={};
			    				var name =null;
			    				switch(key)
			    				{
			    				case "hostUsed":
			    					name = "主机数量";
			    				  break;
			    				case  "containerUsed":
			    					name = "容器数量";
			    				  break;
			    				case "warning":
				    				name="容器数量预警线";
				    			  break;
			    				default:
			    				 
			    				}
			    				obj_option.series[i].name = name;
			    				if(key != "warning"){
			    					obj_option.series[i].type="area";	
			    				}else{
			    					obj_option.series[i].color = 'red';
			    				}
			    				
			    				var  outArray = [];
			    				for (var j = obj_data[i][key].length - 1; j >= 0; j--) {
			    					var dataArray  = [];
			    					for(var innerKey in obj_data[i][key][j]){
			    						dataArray.push(obj_data[i][key][j][innerKey]);
			    					}
			    					outArray.push(dataArray.reverse());
			    				}
			    				obj_option.series[i].data = outArray;
			    			}
			    		}
			    		return obj_option;
			   	 	}
			    	 
			    	 
			    }

			    getDygraphData();
					
			
			
			  //   var $on = false;
			
			    /*end updating chart*/
			
			    /* TAB 2: Social Network  */
			
			    $(function () {
			        // jQuery Flot Chart
			        var twitter = [
			            [1, 27],
			            [2, 34],
			            [3, 51],
			            [4, 48],
			            [5, 55],
			            [6, 65],
			            [7, 61],
			            [8, 70],
			            [9, 65],
			            [10, 75],
			            [11, 57],
			            [12, 59],
			            [13, 62]
			        ],
			            facebook = [
			                [1, 25],
			                [2, 31],
			                [3, 45],
			                [4, 37],
			                [5, 38],
			                [6, 40],
			                [7, 47],
			                [8, 55],
			                [9, 43],
			                [10, 50],
			                [11, 47],
			                [12, 39],
			                [13, 47]
			            ],
			            data = [{
			                label: "Twitter",
			                data: twitter,
			                lines: {
			                    show: true,
			                    lineWidth: 1,
			                    fill: true,
			                    fillColor: {
			                        colors: [{
			                            opacity: 0.1
			                        }, {
			                            opacity: 0.13
			                        }]
			                    }
			                },
			                points: {
			                    show: true
			                }
			            }, {
			                label: "Facebook",
			                data: facebook,
			                lines: {
			                    show: true,
			                    lineWidth: 1,
			                    fill: true,
			                    fillColor: {
			                        colors: [{
			                            opacity: 0.1
			                        }, {
			                            opacity: 0.13
			                        }]
			                    }
			                },
			                points: {
			                    show: true
			                }
			            }];
			
			        var options = {
			            grid: {
			                hoverable: true
			            },
			            colors: ["#568A89", "#3276B1"],
			            tooltip: true,
			            tooltipOpts: {
			                //content : "Value <b>$x</b> Value <span>$y</span>",
			                defaultTheme: false
			            },
			            xaxis: {
			                ticks: [
			                    [1, "JAN"],
			                    [2, "FEB"],
			                    [3, "MAR"],
			                    [4, "APR"],
			                    [5, "MAY"],
			                    [6, "JUN"],
			                    [7, "JUL"],
			                    [8, "AUG"],
			                    [9, "SEP"],
			                    [10, "OCT"],
			                    [11, "NOV"],
			                    [12, "DEC"],
			                    [13, "JAN+1"]
			                ]
			            },
			            yaxes: {
			
			            }
			        };
			
			        flot_statsChart = $.plot($("#statsChart"), data, options);
			    });
			
			    // END TAB 2
			
			    // TAB THREE GRAPH //
			    /* TAB 3: Revenew  */
			
			    $(function () {
			
			        var trgt = [
			            [1354586000000, 153],
			            [1364587000000, 658],
			            [1374588000000, 198],
			            [1384589000000, 663],
			            [1394590000000, 801],
			            [1404591000000, 1080],
			            [1414592000000, 353],
			            [1424593000000, 749],
			            [1434594000000, 523],
			            [1444595000000, 258],
			            [1454596000000, 688],
			            [1464597000000, 364]
			        ],
			            prft = [
			                [1354586000000, 53],
			                [1364587000000, 65],
			                [1374588000000, 98],
			                [1384589000000, 83],
			                [1394590000000, 980],
			                [1404591000000, 808],
			                [1414592000000, 720],
			                [1424593000000, 674],
			                [1434594000000, 23],
			                [1444595000000, 79],
			                [1454596000000, 88],
			                [1464597000000, 36]
			            ],
			            sgnups = [
			                [1354586000000, 647],
			                [1364587000000, 435],
			                [1374588000000, 784],
			                [1384589000000, 346],
			                [1394590000000, 487],
			                [1404591000000, 463],
			                [1414592000000, 479],
			                [1424593000000, 236],
			                [1434594000000, 843],
			                [1444595000000, 657],
			                [1454596000000, 241],
			                [1464597000000, 341]
			            ],
			            toggles = $("#rev-toggles"),
			            target = $("#flotcontainer");
			
			        var data = [{
			            label: "Target Profit",
			            data: trgt,
			            bars: {
			                show: true,
			                align: "center",
			                barWidth: 30 * 30 * 60 * 1000 * 80
			            }
			        }, {
			            label: "Actual Profit",
			            data: prft,
			            color: '#3276B1',
			            lines: {
			                show: true,
			                lineWidth: 3
			            },
			            points: {
			                show: true
			            }
			        }, {
			            label: "Actual Signups",
			            data: sgnups,
			            color: '#71843F',
			            lines: {
			                show: true,
			                lineWidth: 1
			            },
			            points: {
			                show: true
			            }
			        }]
			
			        var options = {
			            grid: {
			                hoverable: true
			            },
			            tooltip: true,
			            tooltipOpts: {
			                //content: '%x - %y',
			                //dateFormat: '%b %y',
			                defaultTheme: false
			            },
			            xaxis: {
			                mode: "time"
			            },
			            yaxes: {
			                tickFormatter: function (val, axis) {
			                    return "$" + val;
			                },
			                max: 1200
			            }
			
			        };
			
			        flot_multigraph = null;
			
			        function plotNow() {
			            var d = [];
			            toggles.find(':checkbox').each(function () {
			                if ($(this).is(':checked')) {
			                    d.push(data[$(this).attr("name").substr(4, 1)]);
			                }
			            });
			            if (d.length > 0) {
			                if (flot_multigraph) {
			                    flot_multigraph.setData(d);
			                    flot_multigraph.draw();
			                } else {
			                    flot_multigraph = $.plot(target, d, options);
			                }
			            }
			
			        };
			
			        toggles.find(':checkbox').on('change', function () {
			            plotNow();
			        });

			        plotNow()
			
			    });
			
			}
		
		/*
		 * VECTOR MAP
		 */
		
		

	}

	// end destroy
	
	// run pagefunction on load
	pagefunction();
	
	
</script>
</body>
</html>
